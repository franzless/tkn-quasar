{"remainingRequest":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\tkn-quasar\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Projekte\\tkn-quasar\\src\\store\\index.js","dependencies":[{"path":"C:\\Projekte\\tkn-quasar\\src\\store\\index.js","mtime":1573196632419},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573019599809},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js","mtime":1573019593932},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\eslint-loader\\index.js","mtime":1573019613838}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgZGIgZnJvbSAnQC9kYi9maXJlYmFzZWluaXQnOwpWdWUudXNlKFZ1ZXgpOwp2YXIgZG9jUmVmID0gZGIuY29sbGVjdGlvbigiVEtOIik7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgZGlhbG9nX25ldWVyOiBmYWxzZSwKICAgIGRhdGE6IFtdLAogICAgbG9hZGluZzogZmFsc2UsCiAgICBzbmFjazoge30sCiAgICBpdGVtczogW10KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX2RpYWxvZ19ORVVFUjogZnVuY3Rpb24gU0VUX2RpYWxvZ19ORVVFUihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kaWFsb2dfbmV1ZXIgPSBwYXlsb2FkOwogICAgfSwKICAgIFNFVF9EQVRBOiBmdW5jdGlvbiBTRVRfREFUQShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kYXRhID0gcGF5bG9hZDsKICAgIH0sCiAgICBTRVRfTE9BRElORzogZnVuY3Rpb24gU0VUX0xPQURJTkcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUubG9hZGluZyA9IHBheWxvYWQ7CiAgICB9LAogICAgU0VUX1NOQUNLOiBmdW5jdGlvbiBTRVRfU05BQ0soc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc25hY2sgPSBwYXlsb2FkOwogICAgfSwKICAgIFNFVF9JVEVNUzogZnVuY3Rpb24gU0VUX0lURU1TKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGlmIChwYXlsb2FkLmxlbmd0aCA+IDApIHsKICAgICAgICAvL0FsbGUgdm9yaGFuZGVuZW4gRGF0dW1zIGluIGVpbiBhcnJheSBzY2hyZWliZW4KICAgICAgICB2YXIgZGF0ZXMgPSBwYXlsb2FkLm1hcChmdW5jdGlvbiAobSkgewogICAgICAgICAgcmV0dXJuIG0uZGF0dW07CiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIHNlbGYpIHsKICAgICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDsKICAgICAgICB9KTsgLy/DvGJlciBqZWRlcyBEYXR1bSBpdGVycmllcmVuICAgICAKCiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBkYXRlcy5sZW5ndGg7IHgrKykgewogICAgICAgICAgLy9hbGxlIE9iamVrdGUgbWl0IGRlbSBlbnRzcHJlY2hlbmRlbiBEYXR1bSBpbiBWYXJpYWJsZSBDYWNoZSBzY2hyZWliZW4KICAgICAgICAgIHZhciBjYWNoZSA9IFtdOwogICAgICAgICAgY2FjaGUgPSBwYXlsb2FkLmZpbHRlcihmdW5jdGlvbiAoZikgewogICAgICAgICAgICByZXR1cm4gZi5kYXR1bSA9PT0gZGF0ZXNbeF07CiAgICAgICAgICB9KTsgLy9iZW7DtnRpZ3RlIERhdGVuc3RydWt0dXIgenVzYW1tZW5iYXVlbiA9PiB2YXIgZGF0ZW4KCiAgICAgICAgICB2YXIgZGF0ZW4gPSBbXTsKICAgICAgICAgIGNhY2hlLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGVuLnB1c2goYy5kYXRlbik7CiAgICAgICAgICB9KTsgLy9Tb3J0aWVyZW4sIGZhbGxzIG1laHJlcmUgRWludHLDpGdlIHBybyBEYXR1bQoKICAgICAgICAgIGRhdGVuLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGEuYmVnaW5uLnNsaWNlKDAsIDIpIC0gYi5iZWdpbm4uc2xpY2UoMCwgMik7CiAgICAgICAgICB9KTsgLy9mZXJ0aWdlcyBPYmpla3QgcHVzaGVuICAgICAgICAgICAgICAgCgogICAgICAgICAgdmFyIHJlc3VsdCA9IHsKICAgICAgICAgICAgZGF0dW06IGNhY2hlWzBdLmRhdHVtLAogICAgICAgICAgICB1bml4OiBjYWNoZVswXS51bml4LAogICAgICAgICAgICBVSUQ6IGNhY2hlWzBdLnVpZCwKICAgICAgICAgICAgZGF0ZW46IGRhdGVuCiAgICAgICAgICB9OwogICAgICAgICAgc3RhdGUuaXRlbXMucHVzaChyZXN1bHQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5pdGVtcyA9IFtdOwogICAgICB9CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBkaWFsb2dfTkVVRVI6IGZ1bmN0aW9uIGRpYWxvZ19ORVVFUihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZGlhbG9nX25ldWVyOwogICAgfSwKICAgIGdldF9sb2FkaW5nOiBmdW5jdGlvbiBnZXRfbG9hZGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9hZGluZzsKICAgIH0sCiAgICBnZXRfc25hY2s6IGZ1bmN0aW9uIGdldF9zbmFjayhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc25hY2s7CiAgICB9LAogICAgZ2V0X2l0ZW1zOiBmdW5jdGlvbiBnZXRfaXRlbXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLml0ZW1zOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgU0VUX05FVUVSX0VJTlRSQUc6IGZ1bmN0aW9uIFNFVF9ORVVFUl9FSU5UUkFHKGNvbnRleHQsIHBheWxvYWQpIHsKICAgICAgLyogICAgICBkb2NSZWYud2hlcmUoInVuaXgiLCI9PSIsIjE1NzA3NDQ4MDAiKS5nZXQoKS50aGVuKGRvYz0+ew0KICAgICAgICAgICAgaWYoZG9jLmV4aXN0cyl7ICAgICAgICAgIA0KICAgICAgICAgICAgICB2YXIgZGF0ZW5fbWVyZ2UgPSBbXQ0KICAgICAgICAgICAgICBkb2MuZGF0YSgpLmZvckVhY2goeD0+e2RhdGVuX21lcmdlLnB1c2goeC5kYXRlbil9KQ0KICAgICAgICAgICAgICBkYXRlbl9tZXJnZS5wdXNoKHBheWxvYWQuZGF0ZW4pDQogICAgICAgICAgICAgICB2YXIgbWVyZ2UgPSB7DQogICAgICAgICAgICAgICAgZGF0dW06cGF5bG9hZC5kYXR1bSx1bml4OnBheWxvYWQudW5peCxkYXRlbl9tZXJnZQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGRvY1JlZi5kb2MoZG9jLmlkKS5zZXQobWVyZ2UpLnRoZW4ocmVzcG9uc2U9PnsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkgICAgICAgIA0KICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9kaWFsb2dfTkVVRVInLGZhbHNlKQ0KICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9MT0FESU5HJyxmYWxzZSkNCiAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfU05BQ0snLHtzbmFja0NvbG9yOidzdWNjZXNzJyxzdGF0dXM6dHJ1ZSxzbmFja1RleHQ6J0VyZm9sZyd9KQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAuY2F0Y2goZXJyPT57DQogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9TTkFDSycse1NuYWNrY29sb3I6J2Vycm9yJyxzdGF0dXM6dHJ1ZSxzbmFja1RleHQ6ZXJyfSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpfSkgICAgICAgICANCiAgICAgICAgICANCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXggbmljaHQnKQ0KICAgICAgICAgICAgICBkb2NSZWYuYWRkKHBheWxvYWQpLnRoZW4ocmVzcG9uc2U9PnsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkgICAgICAgIA0KICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9kaWFsb2dfTkVVRVInLGZhbHNlKQ0KICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9MT0FESU5HJyxmYWxzZSkNCiAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfU05BQ0snLHtzbmFja0NvbG9yOidzdWNjZXNzJyxzdGF0dXM6dHJ1ZSxzbmFja1RleHQ6J0VyZm9sZyd9KQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAuY2F0Y2goZXJyPT57DQogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9TTkFDSycse1NuYWNrY29sb3I6J2Vycm9yJyxzdGF0dXM6dHJ1ZSxzbmFja1RleHQ6ZXJyfSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KSAgKi8KICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9MT0FESU5HJywgdHJ1ZSk7CiAgICAgIGRvY1JlZi5hZGQocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX2RpYWxvZ19ORVVFUicsIGZhbHNlKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX0xPQURJTkcnLCBmYWxzZSk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9TTkFDSycsIHsKICAgICAgICAgIHNuYWNrQ29sb3I6ICdzdWNjZXNzJywKICAgICAgICAgIHN0YXR1czogdHJ1ZSwKICAgICAgICAgIHNuYWNrVGV4dDogJ0VyZm9sZycKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfU05BQ0snLCB7CiAgICAgICAgICBzbmFja0NvbG9yOiAnZXJyb3InLAogICAgICAgICAgc3RhdHVzOiB0cnVlLAogICAgICAgICAgc25hY2tUZXh0OiBlcnIKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBRVUVSWV9JVEVNUzogZnVuY3Rpb24gUVVFUllfSVRFTVMoY29udGV4dCkgewogICAgICBkb2NSZWYud2hlcmUoJ1VJRCcsICc9PScsICd1NjZXbWRSdTU3YkFkbjRuVFdnOWJ2Q1BkY1oyJykub3JkZXJCeSgidW5peCIsICJkZXNjIikub25TbmFwc2hvdChmdW5jdGlvbiAoc25hcCkgewogICAgICAgIHZhciBkYXRlbiA9IFtdOwogICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfSVRFTVMnLCBkYXRlbik7CiAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIGRhdGVuLnB1c2goZG9jLmRhdGEoKSk7CiAgICAgICAgfSk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9JVEVNUycsIGRhdGVuKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"sources":["C:/Projekte/tkn-quasar/src/store/index.js"],"names":["Vue","Vuex","db","use","docRef","collection","Store","state","dialog_neuer","data","loading","snack","items","mutations","SET_dialog_NEUER","payload","SET_DATA","SET_LOADING","SET_SNACK","SET_ITEMS","length","dates","map","m","datum","filter","value","index","self","indexOf","x","cache","f","daten","forEach","c","push","sort","a","b","beginn","slice","result","unix","UID","uid","getters","dialog_NEUER","get_loading","get_snack","get_items","actions","SET_NEUER_EINTRAG","context","commit","add","then","response","snackColor","status","snackText","catch","err","console","log","QUERY_ITEMS","where","orderBy","onSnapshot","snap","doc","modules"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,EAAP,MAAe,mBAAf;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AACA,IAAMG,MAAM,GAAGF,EAAE,CAACG,UAAH,CAAc,KAAd,CAAf;AAEA,eAAe,IAAIJ,IAAI,CAACK,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,YAAY,EAAC,KADR;AAELC,IAAAA,IAAI,EAAC,EAFA;AAGLC,IAAAA,OAAO,EAAC,KAHH;AAILC,IAAAA,KAAK,EAAC,EAJD;AAKLC,IAAAA,KAAK,EAAC;AALD,GADqB;AAQ5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,gBAAgB,EAAC,0BAACP,KAAD,EAAOQ,OAAP,EAAiB;AAChCR,MAAAA,KAAK,CAACC,YAAN,GAAqBO,OAArB;AACD,KAHQ;AAITC,IAAAA,QAAQ,EAAC,kBAACT,KAAD,EAAOQ,OAAP,EAAiB;AACxBR,MAAAA,KAAK,CAACE,IAAN,GAAaM,OAAb;AACD,KANQ;AAOTE,IAAAA,WAAW,EAAC,qBAACV,KAAD,EAAOQ,OAAP,EAAiB;AAC3BR,MAAAA,KAAK,CAACG,OAAN,GAAgBK,OAAhB;AACD,KATQ;AAUTG,IAAAA,SAAS,EAAC,mBAACX,KAAD,EAAOQ,OAAP,EAAiB;AACzBR,MAAAA,KAAK,CAACI,KAAN,GAAYI,OAAZ;AACD,KAZQ;AAaTI,IAAAA,SAAS,EAAC,mBAACZ,KAAD,EAAOQ,OAAP,EAAiB;AACzB,UAAGA,OAAO,CAACK,MAAR,GAAe,CAAlB,EAAoB;AAClB;AACF,YAAIC,KAAK,GAAGN,OAAO,CAACO,GAAR,CAAY,UAAAC,CAAC;AAAA,iBAAEA,CAAC,CAACC,KAAJ;AAAA,SAAb,EAAwBC,MAAxB,CAA+B,UAACC,KAAD,EAAQC,KAAR,EAAeC,IAAf,EAAsB;AAAC,iBAAOA,IAAI,CAACC,OAAL,CAAaH,KAAb,MAAwBC,KAA/B;AAAsC,SAA5F,CAAZ,CAFoB,CAGpB;;AACA,aAAI,IAAIG,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAACT,KAAK,CAACD,MAAtB,EAA6BU,CAAC,EAA9B,EAAiC;AAC/B;AACA,cAAIC,KAAK,GAAG,EAAZ;AACAA,UAAAA,KAAK,GAAGhB,OAAO,CAACU,MAAR,CAAe,UAAAO,CAAC;AAAA,mBAAIA,CAAC,CAACR,KAAF,KAAYH,KAAK,CAACS,CAAD,CAArB;AAAA,WAAhB,CAAR,CAH+B,CAI/B;;AACA,cAAIG,KAAK,GAAG,EAAZ;AACAF,UAAAA,KAAK,CAACG,OAAN,CAAc,UAAAC,CAAC;AAAA,mBAAEF,KAAK,CAACG,IAAN,CAAWD,CAAC,CAACF,KAAb,CAAF;AAAA,WAAf,EAN+B,CAO/B;;AACAA,UAAAA,KAAK,CAACI,IAAN,CAAW,UAASC,CAAT,EAAWC,CAAX,EAAa;AAAC,mBAAOD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,EAAiB,CAAjB,IAAqBF,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,EAAiB,CAAjB,CAA5B;AAAiD,WAA1E,EAR+B,CAS/B;;AACA,cAAIC,MAAM,GAAG;AAAClB,YAAAA,KAAK,EAACO,KAAK,CAAC,CAAD,CAAL,CAASP,KAAhB;AAAsBmB,YAAAA,IAAI,EAACZ,KAAK,CAAC,CAAD,CAAL,CAASY,IAApC;AAAyCC,YAAAA,GAAG,EAACb,KAAK,CAAC,CAAD,CAAL,CAASc,GAAtD;AAA0DZ,YAAAA,KAAK,EAALA;AAA1D,WAAb;AACA1B,UAAAA,KAAK,CAACK,KAAN,CAAYwB,IAAZ,CAAiBM,MAAjB;AACH;AAAC,OAhBA,MAgBI;AACJnC,QAAAA,KAAK,CAACK,KAAN,GAAa,EAAb;AACH;AAAC;AAhCS,GARiB;AA0C5BkC,EAAAA,OAAO,EAAC;AACNC,IAAAA,YAAY,EAAC,sBAAAxC,KAAK,EAAE;AAClB,aAAOA,KAAK,CAACC,YAAb;AACD,KAHK;AAINwC,IAAAA,WAAW,EAAC,qBAAAzC,KAAK,EAAE;AACjB,aAAOA,KAAK,CAACG,OAAb;AACD,KANK;AAONuC,IAAAA,SAAS,EAAC,mBAAA1C,KAAK,EAAE;AACf,aAAOA,KAAK,CAACI,KAAb;AACD,KATK;AAUNuC,IAAAA,SAAS,EAAC,mBAAA3C,KAAK,EAAE;AACf,aAAOA,KAAK,CAACK,KAAb;AACD;AAZK,GA1CoB;AAwD5BuC,EAAAA,OAAO,EAAE;AACPC,IAAAA,iBAAiB,EAAC,2BAACC,OAAD,EAAStC,OAAT,EAAmB;AACvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BMsC,MAAAA,OAAO,CAACC,MAAR,CAAe,aAAf,EAA6B,IAA7B;AACFlD,MAAAA,MAAM,CAACmD,GAAP,CAAWxC,OAAX,EACCyC,IADD,CACM,UAAAC,QAAQ,EAAE;AACfJ,QAAAA,OAAO,CAACC,MAAR,CAAe,kBAAf,EAAkC,KAAlC;AACAD,QAAAA,OAAO,CAACC,MAAR,CAAe,aAAf,EAA6B,KAA7B;AACAD,QAAAA,OAAO,CAACC,MAAR,CAAe,WAAf,EAA2B;AAACI,UAAAA,UAAU,EAAC,SAAZ;AAAsBC,UAAAA,MAAM,EAAC,IAA7B;AAAkCC,UAAAA,SAAS,EAAC;AAA5C,SAA3B;AACA,OALD,EAMCC,KAND,CAMO,UAAAC,GAAG,EAAE;AACVT,QAAAA,OAAO,CAACC,MAAR,CAAe,WAAf,EAA2B;AAACI,UAAAA,UAAU,EAAC,OAAZ;AAAoBC,UAAAA,MAAM,EAAC,IAA3B;AAAgCC,UAAAA,SAAS,EAACE;AAA1C,SAA3B;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,OARnB;AASD,KA3CM;AA4CPG,IAAAA,WAAW,EAAC,qBAACZ,OAAD,EAAW;AACrBjD,MAAAA,MAAM,CAAC8D,KAAP,CAAa,KAAb,EAAmB,IAAnB,EAAwB,8BAAxB,EAAwDC,OAAxD,CAAgE,MAAhE,EAAuE,MAAvE,EAA+EC,UAA/E,CAA0F,UAAAC,IAAI,EAAE;AAC9F,YAAIpC,KAAK,GAAG,EAAZ;AACAoB,QAAAA,OAAO,CAACC,MAAR,CAAe,WAAf,EAA2BrB,KAA3B;AACAoC,QAAAA,IAAI,CAACnC,OAAL,CAAa,UAAAoC,GAAG,EAAE;AACfrC,UAAAA,KAAK,CAACG,IAAN,CAAWkC,GAAG,CAAC7D,IAAJ,EAAX;AACF,SAFD;AAGA4C,QAAAA,OAAO,CAACC,MAAR,CAAe,WAAf,EAA2BrB,KAA3B;AAAkC,OANpC;AAOD;AApDM,GAxDmB;AA8G5BsC,EAAAA,OAAO,EAAE;AA9GmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport db from '@/db/firebaseinit'\r\n\r\nVue.use(Vuex)\r\nconst docRef = db.collection(\"TKN\")\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    dialog_neuer:false,\r\n    data:[],\r\n    loading:false,\r\n    snack:{},\r\n    items:[]\r\n  },\r\n  mutations: {\r\n    SET_dialog_NEUER:(state,payload)=>{\r\n      state.dialog_neuer = payload\r\n    },\r\n    SET_DATA:(state,payload)=>{\r\n      state.data = payload      \r\n    },\r\n    SET_LOADING:(state,payload)=>{\r\n      state.loading = payload\r\n    },\r\n    SET_SNACK:(state,payload)=>{\r\n      state.snack=payload\r\n    },\r\n    SET_ITEMS:(state,payload)=>{\r\n      if(payload.length>0){\r\n        //Alle vorhandenen Datums in ein array schreiben\r\n      var dates = payload.map(m=>m.datum).filter((value, index, self)=>{return self.indexOf(value) === index;})\r\n      //über jedes Datum iterrieren     \r\n      for(var x = 0;x<dates.length;x++){\r\n        //alle Objekte mit dem entsprechenden Datum in Variable Cache schreiben\r\n        var cache = []\r\n        cache = payload.filter(f => f.datum === dates[x])\r\n        //benötigte Datenstruktur zusammenbauen => var daten\r\n        var daten = []        \r\n        cache.forEach(c=>daten.push(c.daten))\r\n        //Sortieren, falls mehrere Einträge pro Datum\r\n        daten.sort(function(a,b){return a.beginn.slice(0,2) -b.beginn.slice(0,2) })\r\n        //fertiges Objekt pushen               \r\n        var result = {datum:cache[0].datum,unix:cache[0].unix,UID:cache[0].uid,daten}        \r\n        state.items.push(result)\r\n    }}else{\r\n      state.items= []\r\n  }}\r\n  },\r\n  getters:{\r\n    dialog_NEUER:state=>{\r\n      return state.dialog_neuer\r\n    },\r\n    get_loading:state=>{\r\n      return state.loading\r\n    },\r\n    get_snack:state=>{\r\n      return state.snack\r\n    },\r\n    get_items:state=>{\r\n      return state.items\r\n    }\r\n  },\r\n  actions: {      \r\n    SET_NEUER_EINTRAG:(context,payload)=>{ \r\n  /*      docRef.where(\"unix\",\"==\",\"1570744800\").get().then(doc=>{\r\n        if(doc.exists){          \r\n          var daten_merge = []\r\n          doc.data().forEach(x=>{daten_merge.push(x.daten)})\r\n          daten_merge.push(payload.daten)\r\n           var merge = {\r\n            datum:payload.datum,unix:payload.unix,daten_merge\r\n          }\r\n          docRef.doc(doc.id).set(merge).then(response=>{\r\n            console.log(response)        \r\n           context.commit('SET_dialog_NEUER',false)\r\n           context.commit('SET_LOADING',false)\r\n           context.commit('SET_SNACK',{snackColor:'success',status:true,snackText:'Erfolg'})\r\n          })\r\n          .catch(err=>{\r\n            context.commit('SET_SNACK',{Snackcolor:'error',status:true,snackText:err})\r\n            console.log(err)})         \r\n      \r\n        }else{\r\n          console.log('ex nicht')\r\n          docRef.add(payload).then(response=>{\r\n            console.log(response)        \r\n           context.commit('SET_dialog_NEUER',false)\r\n           context.commit('SET_LOADING',false)\r\n           context.commit('SET_SNACK',{snackColor:'success',status:true,snackText:'Erfolg'})\r\n          })\r\n          .catch(err=>{\r\n            context.commit('SET_SNACK',{Snackcolor:'error',status:true,snackText:err})\r\n            console.log(err)})\r\n        }\r\n      })  */\r\n        context.commit('SET_LOADING',true)\r\n      docRef.add(payload)\r\n      .then(response=>{            \r\n       context.commit('SET_dialog_NEUER',false)\r\n       context.commit('SET_LOADING',false)\r\n       context.commit('SET_SNACK',{snackColor:'success',status:true,snackText:'Erfolg'})\r\n      })\r\n      .catch(err=>{\r\n        context.commit('SET_SNACK',{snackColor:'error',status:true,snackText:err})\r\n        console.log(err)}) \r\n    }, \r\n    QUERY_ITEMS:(context)=>{      \r\n      docRef.where('UID','==','u66WmdRu57bAdn4nTWg9bvCPdcZ2').orderBy(\"unix\",\"desc\").onSnapshot(snap=>{\r\n        var daten = []\r\n        context.commit('SET_ITEMS',daten) \r\n        snap.forEach(doc=>{\r\n           daten.push(doc.data())\r\n        })\r\n        context.commit('SET_ITEMS',daten)})\r\n    }\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"]}]}