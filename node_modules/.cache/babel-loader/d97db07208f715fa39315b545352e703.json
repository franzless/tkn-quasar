{"remainingRequest":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\tkn-quasar\\node_modules\\quasar\\src\\mixins\\prevent-scroll.js","dependencies":[{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\quasar\\src\\mixins\\prevent-scroll.js","mtime":1573019630201},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573019599809},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js","mtime":1573019593932}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0RXZlbnRQYXRoLCBsaXN0ZW5PcHRzLCBzdG9wQW5kUHJldmVudCB9IGZyb20gIi4uL3V0aWxzL2V2ZW50LmpzIjsKaW1wb3J0IHsgaGFzU2Nyb2xsYmFyLCBnZXRTY3JvbGxQb3NpdGlvbiwgZ2V0SG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uIH0gZnJvbSAiLi4vdXRpbHMvc2Nyb2xsLmpzIjsKaW1wb3J0IFBsYXRmb3JtIGZyb20gIi4uL3BsdWdpbnMvUGxhdGZvcm0uanMiOwp2YXIgcmVnaXN0ZXJlZCA9IDAsCiAgICBzY3JvbGxQb3NpdGlvblgsCiAgICBzY3JvbGxQb3NpdGlvblksCiAgICBib2R5TGVmdCwKICAgIGJvZHlUb3AsCiAgICBjbG9zZVRpbWVyOwoKZnVuY3Rpb24gb25XaGVlbChlKSB7CiAgaWYgKHNob3VsZFByZXZlbnRTY3JvbGwoZSkpIHsKICAgIHN0b3BBbmRQcmV2ZW50KGUpOwogIH0KfQoKZnVuY3Rpb24gc2hvdWxkUHJldmVudFNjcm9sbChlKSB7CiAgaWYgKGUudGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5IHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncS1sYXlvdXRfX2JhY2tkcm9wJykpIHsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgdmFyIHBhdGggPSBnZXRFdmVudFBhdGgoZSksCiAgICAgIHNoaWZ0ID0gZS5zaGlmdEtleSAmJiAhZS5kZWx0YVgsCiAgICAgIHNjcm9sbFkgPSAhc2hpZnQgJiYgTWF0aC5hYnMoZS5kZWx0YVgpIDw9IE1hdGguYWJzKGUuZGVsdGFZKSwKICAgICAgZGVsdGEgPSBzaGlmdCB8fCBzY3JvbGxZID8gZS5kZWx0YVkgOiBlLmRlbHRhWDsKCiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHBhdGgubGVuZ3RoOyBpbmRleCsrKSB7CiAgICB2YXIgZWwgPSBwYXRoW2luZGV4XTsKCiAgICBpZiAoaGFzU2Nyb2xsYmFyKGVsLCBzY3JvbGxZKSkgewogICAgICByZXR1cm4gc2Nyb2xsWSA/IGRlbHRhIDwgMCAmJiBlbC5zY3JvbGxUb3AgPT09IDAgPyB0cnVlIDogZGVsdGEgPiAwICYmIGVsLnNjcm9sbFRvcCArIGVsLmNsaWVudEhlaWdodCA9PT0gZWwuc2Nyb2xsSGVpZ2h0IDogZGVsdGEgPCAwICYmIGVsLnNjcm9sbExlZnQgPT09IDAgPyB0cnVlIDogZGVsdGEgPiAwICYmIGVsLnNjcm9sbExlZnQgKyBlbC5jbGllbnRXaWR0aCA9PT0gZWwuc2Nyb2xsV2lkdGg7CiAgICB9CiAgfQoKICByZXR1cm4gdHJ1ZTsKfQoKZnVuY3Rpb24gb25BcHBsZVNjcm9sbChlKSB7CiAgaWYgKGUudGFyZ2V0ID09PSBkb2N1bWVudCkgewogICAgLy8gcmVxdWlyZWQsIG90aGVyd2lzZSBpT1MgYmxvY2tzIGZ1cnRoZXIgc2Nyb2xsaW5nCiAgICAvLyB1bnRpbCB0aGUgbW9iaWxlIHNjcm9sbGJhciBkaXNzYXBlYXJzCiAgICBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsVG9wOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgfQp9CgpmdW5jdGlvbiBhcHBseShhY3Rpb24pIHsKICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7CgogIGlmIChhY3Rpb24gPT09ICdhZGQnKSB7CiAgICB2YXIgb3ZlcmZsb3dZID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoYm9keSkub3ZlcmZsb3dZOwogICAgc2Nyb2xsUG9zaXRpb25YID0gZ2V0SG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uKHdpbmRvdyk7CiAgICBzY3JvbGxQb3NpdGlvblkgPSBnZXRTY3JvbGxQb3NpdGlvbih3aW5kb3cpOwogICAgYm9keUxlZnQgPSBib2R5LnN0eWxlLmxlZnQ7CiAgICBib2R5VG9wID0gYm9keS5zdHlsZS50b3A7CiAgICBib2R5LnN0eWxlLmxlZnQgPSAiLSIuY29uY2F0KHNjcm9sbFBvc2l0aW9uWCwgInB4Iik7CiAgICBib2R5LnN0eWxlLnRvcCA9ICItIi5jb25jYXQoc2Nyb2xsUG9zaXRpb25ZLCAicHgiKTsKCiAgICBpZiAob3ZlcmZsb3dZICE9PSAnaGlkZGVuJyAmJiAob3ZlcmZsb3dZID09PSAnc2Nyb2xsJyB8fCBib2R5LnNjcm9sbEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkpIHsKICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdxLWJvZHktLWZvcmNlLXNjcm9sbGJhcicpOwogICAgfQoKICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgncS1ib2R5LS1wcmV2ZW50LXNjcm9sbCcpOwogICAgUGxhdGZvcm0uaXMuaW9zID09PSB0cnVlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvbkFwcGxlU2Nyb2xsLCBsaXN0ZW5PcHRzLnBhc3NpdmVDYXB0dXJlKTsKICB9CgogIGlmIChQbGF0Zm9ybS5pcy5kZXNrdG9wID09PSB0cnVlICYmIFBsYXRmb3JtLmlzLm1hYyA9PT0gdHJ1ZSkgewogICAgLy8gcmVmLiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE3LzAxL3Njcm9sbGluZy1pbnRlcnZlbnRpb24KICAgIHdpbmRvd1siIi5jb25jYXQoYWN0aW9uLCAiRXZlbnRMaXN0ZW5lciIpXSgnd2hlZWwnLCBvbldoZWVsLCBsaXN0ZW5PcHRzLm5vdFBhc3NpdmUpOwogIH0KCiAgaWYgKGFjdGlvbiA9PT0gJ3JlbW92ZScpIHsKICAgIFBsYXRmb3JtLmlzLmlvcyA9PT0gdHJ1ZSAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25BcHBsZVNjcm9sbCwgbGlzdGVuT3B0cy5wYXNzaXZlQ2FwdHVyZSk7CiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3EtYm9keS0tcHJldmVudC1zY3JvbGwnKTsKICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncS1ib2R5LS1mb3JjZS1zY3JvbGxiYXInKTsKICAgIGJvZHkuc3R5bGUubGVmdCA9IGJvZHlMZWZ0OwogICAgYm9keS5zdHlsZS50b3AgPSBib2R5VG9wOwogICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFBvc2l0aW9uWCwgc2Nyb2xsUG9zaXRpb25ZKTsKICB9Cn0KCmZ1bmN0aW9uIHByZXZlbnQoc3RhdGUpIHsKICB2YXIgYWN0aW9uID0gJ2FkZCc7CgogIGlmIChzdGF0ZSA9PT0gdHJ1ZSkgewogICAgcmVnaXN0ZXJlZCsrOwoKICAgIGlmIChjbG9zZVRpbWVyICE9PSB2b2lkIDApIHsKICAgICAgY2xlYXJUaW1lb3V0KGNsb3NlVGltZXIpOwogICAgICBjbG9zZVRpbWVyID0gdm9pZCAwOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHJlZ2lzdGVyZWQgPiAxKSB7CiAgICAgIHJldHVybjsKICAgIH0KICB9IGVsc2UgewogICAgaWYgKHJlZ2lzdGVyZWQgPT09IDApIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJlZ2lzdGVyZWQtLTsKCiAgICBpZiAocmVnaXN0ZXJlZCA+IDApIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGFjdGlvbiA9ICdyZW1vdmUnOwoKICAgIGlmIChQbGF0Zm9ybS5pcy5pb3MgPT09IHRydWUgJiYgUGxhdGZvcm0uaXMubmF0aXZlTW9iaWxlID09PSB0cnVlKSB7CiAgICAgIGNsZWFyVGltZW91dChjbG9zZVRpbWVyKTsKICAgICAgY2xvc2VUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGFwcGx5KGFjdGlvbik7CiAgICAgICAgY2xvc2VUaW1lciA9IHZvaWQgMDsKICAgICAgfSwgMTAwKTsKICAgICAgcmV0dXJuOwogICAgfQogIH0KCiAgYXBwbHkoYWN0aW9uKTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG1ldGhvZHM6IHsKICAgIF9fcHJldmVudFNjcm9sbDogZnVuY3Rpb24gX19wcmV2ZW50U2Nyb2xsKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZSAhPT0gdGhpcy5wcmV2ZW50ZWRTY3JvbGwgJiYgKHRoaXMucHJldmVudGVkU2Nyb2xsICE9PSB2b2lkIDAgfHwgc3RhdGUgPT09IHRydWUpKSB7CiAgICAgICAgdGhpcy5wcmV2ZW50ZWRTY3JvbGwgPSBzdGF0ZTsKICAgICAgICBwcmV2ZW50KHN0YXRlKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Projekte/tkn-quasar/node_modules/quasar/src/mixins/prevent-scroll.js"],"names":["getEventPath","listenOpts","stopAndPrevent","hasScrollbar","getScrollPosition","getHorizontalScrollPosition","Platform","registered","scrollPositionX","scrollPositionY","bodyLeft","bodyTop","closeTimer","onWheel","e","shouldPreventScroll","target","document","body","classList","contains","path","shift","shiftKey","deltaX","scrollY","Math","abs","deltaY","delta","index","length","el","scrollTop","clientHeight","scrollHeight","scrollLeft","clientWidth","scrollWidth","onAppleScroll","scrollingElement","apply","action","overflowY","window","getComputedStyle","style","left","top","innerHeight","add","is","ios","addEventListener","passiveCapture","desktop","mac","notPassive","removeEventListener","remove","scrollTo","prevent","state","clearTimeout","nativeMobile","setTimeout","methods","__preventScroll","preventedScroll"],"mappings":"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","sourcesContent":["import { getEventPath, listenOpts, stopAndPrevent } from '../utils/event.js'\r\nimport { hasScrollbar, getScrollPosition, getHorizontalScrollPosition } from '../utils/scroll.js'\r\nimport Platform from '../plugins/Platform.js'\r\n\r\nlet\r\n  registered = 0,\r\n  scrollPositionX,\r\n  scrollPositionY,\r\n  bodyLeft,\r\n  bodyTop,\r\n  closeTimer\r\n\r\nfunction onWheel (e) {\r\n  if (shouldPreventScroll(e)) {\r\n    stopAndPrevent(e)\r\n  }\r\n}\r\n\r\nfunction shouldPreventScroll (e) {\r\n  if (e.target === document.body || e.target.classList.contains('q-layout__backdrop')) {\r\n    return true\r\n  }\r\n\r\n  const\r\n    path = getEventPath(e),\r\n    shift = e.shiftKey && !e.deltaX,\r\n    scrollY = !shift && Math.abs(e.deltaX) <= Math.abs(e.deltaY),\r\n    delta = shift || scrollY ? e.deltaY : e.deltaX\r\n\r\n  for (let index = 0; index < path.length; index++) {\r\n    const el = path[index]\r\n\r\n    if (hasScrollbar(el, scrollY)) {\r\n      return scrollY\r\n        ? (\r\n          delta < 0 && el.scrollTop === 0\r\n            ? true\r\n            : delta > 0 && el.scrollTop + el.clientHeight === el.scrollHeight\r\n        )\r\n        : (\r\n          delta < 0 && el.scrollLeft === 0\r\n            ? true\r\n            : delta > 0 && el.scrollLeft + el.clientWidth === el.scrollWidth\r\n        )\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nfunction onAppleScroll (e) {\r\n  if (e.target === document) {\r\n    // required, otherwise iOS blocks further scrolling\r\n    // until the mobile scrollbar dissapears\r\n    document.scrollingElement.scrollTop = document.scrollingElement.scrollTop // eslint-disable-line\r\n  }\r\n}\r\n\r\nfunction apply (action) {\r\n  const body = document.body\r\n\r\n  if (action === 'add') {\r\n    const overflowY = window.getComputedStyle(body).overflowY\r\n\r\n    scrollPositionX = getHorizontalScrollPosition(window)\r\n    scrollPositionY = getScrollPosition(window)\r\n    bodyLeft = body.style.left\r\n    bodyTop = body.style.top\r\n\r\n    body.style.left = `-${scrollPositionX}px`\r\n    body.style.top = `-${scrollPositionY}px`\r\n    if (overflowY !== 'hidden' && (overflowY === 'scroll' || body.scrollHeight > window.innerHeight)) {\r\n      body.classList.add('q-body--force-scrollbar')\r\n    }\r\n\r\n    body.classList.add('q-body--prevent-scroll')\r\n    Platform.is.ios === true && window.addEventListener('scroll', onAppleScroll, listenOpts.passiveCapture)\r\n  }\r\n\r\n  if (Platform.is.desktop === true && Platform.is.mac === true) {\r\n    // ref. https://developers.google.com/web/updates/2017/01/scrolling-intervention\r\n    window[`${action}EventListener`]('wheel', onWheel, listenOpts.notPassive)\r\n  }\r\n\r\n  if (action === 'remove') {\r\n    Platform.is.ios === true && window.removeEventListener('scroll', onAppleScroll, listenOpts.passiveCapture)\r\n\r\n    body.classList.remove('q-body--prevent-scroll')\r\n    body.classList.remove('q-body--force-scrollbar')\r\n\r\n    body.style.left = bodyLeft\r\n    body.style.top = bodyTop\r\n\r\n    window.scrollTo(scrollPositionX, scrollPositionY)\r\n  }\r\n}\r\n\r\nfunction prevent (state) {\r\n  let action = 'add'\r\n\r\n  if (state === true) {\r\n    registered++\r\n\r\n    if (closeTimer !== void 0) {\r\n      clearTimeout(closeTimer)\r\n      closeTimer = void 0\r\n      return\r\n    }\r\n\r\n    if (registered > 1) {\r\n      return\r\n    }\r\n  }\r\n  else {\r\n    if (registered === 0) {\r\n      return\r\n    }\r\n\r\n    registered--\r\n\r\n    if (registered > 0) {\r\n      return\r\n    }\r\n\r\n    action = 'remove'\r\n\r\n    if (Platform.is.ios === true && Platform.is.nativeMobile === true) {\r\n      clearTimeout(closeTimer)\r\n\r\n      closeTimer = setTimeout(() => {\r\n        apply(action)\r\n        closeTimer = void 0\r\n      }, 100)\r\n      return\r\n    }\r\n  }\r\n\r\n  apply(action)\r\n}\r\n\r\nexport default {\r\n  methods: {\r\n    __preventScroll (state) {\r\n      if (\r\n        state !== this.preventedScroll &&\r\n        (this.preventedScroll !== void 0 || state === true)\r\n      ) {\r\n        this.preventedScroll = state\r\n        prevent(state)\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}