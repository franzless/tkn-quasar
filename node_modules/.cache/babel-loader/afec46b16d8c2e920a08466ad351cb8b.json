{"remainingRequest":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\tkn-quasar\\node_modules\\quasar\\src\\plugins\\Dark.js","dependencies":[{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\quasar\\src\\plugins\\Dark.js","mtime":1573019630256},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573019599809},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js","mtime":1573019593932}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgaXNTU1IsIGZyb21TU1IgfSBmcm9tICIuL1BsYXRmb3JtLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGlzQWN0aXZlOiBmYWxzZSwKICBtb2RlOiBmYWxzZSwKICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKCRxLCBxdWV1ZXMsIF9yZWYpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGRhcmsgPSBfcmVmLmRhcms7CiAgICB0aGlzLmlzQWN0aXZlID0gZGFyayA9PT0gdHJ1ZTsKCiAgICBpZiAoaXNTU1IgPT09IHRydWUpIHsKICAgICAgcXVldWVzLnNlcnZlci5wdXNoKGZ1bmN0aW9uIChxLCBjdHgpIHsKICAgICAgICBxLmRhcmsgPSB7CiAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgICAgICBtb2RlOiBmYWxzZSwKICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgICAgICBjdHguc3NyLlFfQk9EWV9DTEFTU0VTID0gY3R4LnNzci5RX0JPRFlfQ0xBU1NFUy5yZXBsYWNlKCcgYm9keS0tbGlnaHQnLCAnJykucmVwbGFjZSgnIGJvZHktLWRhcmsnLCAnJykgKyAiIGJvZHktLSIuY29uY2F0KHZhbCA9PT0gdHJ1ZSA/ICdkYXJrJyA6ICdsaWdodCcpOwogICAgICAgICAgICBxLmRhcmsuaXNBY3RpdmUgPSB2YWwgPT09IHRydWU7CiAgICAgICAgICAgIHEuZGFyay5tb2RlID0gdmFsOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcS5kYXJrLnNldChkYXJrKTsKICAgICAgfSk7CgogICAgICB0aGlzLnNldCA9IGZ1bmN0aW9uICgpIHt9OwoKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChmcm9tU1NSID09PSB0cnVlKSB7CiAgICAgIHZhciBzc3JTZXQgPSBmdW5jdGlvbiBzc3JTZXQodmFsKSB7CiAgICAgICAgX3RoaXMuX19mcm9tU1NSID0gdmFsOwogICAgICB9OwoKICAgICAgdmFyIG9yaWdpbmFsU2V0ID0gdGhpcy5zZXQ7CiAgICAgIHRoaXMuc2V0ID0gc3NyU2V0OwogICAgICBzc3JTZXQoZGFyayk7CiAgICAgIHF1ZXVlcy50YWtlb3Zlci5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zZXQgPSBvcmlnaW5hbFNldDsKCiAgICAgICAgX3RoaXMuc2V0KF90aGlzLl9fZnJvbVNTUik7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5zZXQoZGFyayk7CiAgICB9CgogICAgVnVlLnV0aWwuZGVmaW5lUmVhY3RpdmUodGhpcywgJ2lzQWN0aXZlJywgdGhpcy5pc0FjdGl2ZSk7CiAgICBWdWUudXRpbC5kZWZpbmVSZWFjdGl2ZSgkcSwgJ2RhcmsnLCB0aGlzKTsKICB9LAogIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgdGhpcy5tb2RlID0gdmFsOwoKICAgIGlmICh2YWwgPT09ICdhdXRvJykgewogICAgICBpZiAodGhpcy5fX21lZGlhID09PSB2b2lkIDApIHsKICAgICAgICB0aGlzLl9fbWVkaWEgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpOwoKICAgICAgICB0aGlzLl9fbWVkaWEuYWRkTGlzdGVuZXIodGhpcy5fX3VwZGF0ZU1lZGlhKTsKICAgICAgfQoKICAgICAgdmFsID0gdGhpcy5fX21lZGlhLm1hdGNoZXM7CiAgICB9IGVsc2UgaWYgKHRoaXMuX19tZWRpYSAhPT0gdm9pZCAwKSB7CiAgICAgIHRoaXMuX19tZWRpYS5yZW1vdmVMaXN0ZW5lcih0aGlzLl9fdXBkYXRlTWVkaWEpOwoKICAgICAgdGhpcy5fX21lZGlhID0gdm9pZCAwOwogICAgfQoKICAgIHRoaXMuaXNBY3RpdmUgPSB2YWwgPT09IHRydWU7CiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoImJvZHktLSIuY29uY2F0KHZhbCA9PT0gdHJ1ZSA/ICdsaWdodCcgOiAnZGFyaycpKTsKICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgiYm9keS0tIi5jb25jYXQodmFsID09PSB0cnVlID8gJ2RhcmsnIDogJ2xpZ2h0JykpOwogIH0sCiAgX19tZWRpYTogdm9pZCAwLAogIF9fdXBkYXRlTWVkaWE6IGZ1bmN0aW9uIF9fdXBkYXRlTWVkaWEoKSB7CiAgICB0aGlzLnNldCh0aGlzLl9fbWVkaWEubWF0Y2hlcyk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Projekte/tkn-quasar/node_modules/quasar/src/plugins/Dark.js"],"names":["Vue","isSSR","fromSSR","isActive","mode","install","$q","queues","dark","server","push","q","ctx","set","val","ssr","Q_BODY_CLASSES","replace","ssrSet","__fromSSR","originalSet","takeover","util","defineReactive","__media","window","matchMedia","addListener","__updateMedia","matches","removeListener","document","body","classList","remove","add"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\n\r\nimport { isSSR, fromSSR } from './Platform.js'\r\n\r\nexport default {\r\n  isActive: false,\r\n  mode: false,\r\n\r\n  install ($q, queues, { dark }) {\r\n    this.isActive = dark === true\r\n\r\n    if (isSSR === true) {\r\n      queues.server.push((q, ctx) => {\r\n        q.dark = {\r\n          isActive: false,\r\n          mode: false,\r\n          set: val => {\r\n            ctx.ssr.Q_BODY_CLASSES = ctx.ssr.Q_BODY_CLASSES\r\n              .replace(' body--light', '')\r\n              .replace(' body--dark', '') + ` body--${val === true ? 'dark' : 'light'}`\r\n\r\n            q.dark.isActive = val === true\r\n            q.dark.mode = val\r\n          }\r\n        }\r\n\r\n        q.dark.set(dark)\r\n      })\r\n\r\n      this.set = () => {}\r\n      return\r\n    }\r\n\r\n    if (fromSSR === true) {\r\n      const ssrSet = val => {\r\n        this.__fromSSR = val\r\n      }\r\n\r\n      const originalSet = this.set\r\n\r\n      this.set = ssrSet\r\n      ssrSet(dark)\r\n\r\n      queues.takeover.push(() => {\r\n        this.set = originalSet\r\n        this.set(this.__fromSSR)\r\n      })\r\n    }\r\n    else {\r\n      this.set(dark)\r\n    }\r\n\r\n    Vue.util.defineReactive(this, 'isActive', this.isActive)\r\n    Vue.util.defineReactive($q, 'dark', this)\r\n  },\r\n\r\n  set (val) {\r\n    this.mode = val\r\n\r\n    if (val === 'auto') {\r\n      if (this.__media === void 0) {\r\n        this.__media = window.matchMedia('(prefers-color-scheme: dark)')\r\n        this.__media.addListener(this.__updateMedia)\r\n      }\r\n\r\n      val = this.__media.matches\r\n    }\r\n    else if (this.__media !== void 0) {\r\n      this.__media.removeListener(this.__updateMedia)\r\n      this.__media = void 0\r\n    }\r\n\r\n    this.isActive = val === true\r\n\r\n    document.body.classList.remove(`body--${val === true ? 'light' : 'dark'}`)\r\n    document.body.classList.add(`body--${val === true ? 'dark' : 'light'}`)\r\n  },\r\n\r\n  __media: void 0,\r\n\r\n  __updateMedia () {\r\n    this.set(this.__media.matches)\r\n  }\r\n}\r\n"]}]}