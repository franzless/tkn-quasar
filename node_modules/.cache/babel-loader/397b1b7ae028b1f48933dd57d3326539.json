{"remainingRequest":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js!C:\\Projekte\\tkn-quasar\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Projekte\\tkn-quasar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projekte\\tkn-quasar\\src\\components\\NeuerEintrag.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projekte\\tkn-quasar\\src\\components\\NeuerEintrag.vue","mtime":1573654153988},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573019599809},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\babel-loader\\lib\\index.js","mtime":1573019593932},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573019599809},{"path":"C:\\Projekte\\tkn-quasar\\node_modules\\vue-loader\\lib\\index.js","mtime":1573019645501}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ2RpYWxvZyddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcGlubmVyOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBEYXRlRm9ybWF0dGVkOiBmdW5jdGlvbiBEYXRlRm9ybWF0dGVkKCkgewogICAgICByZXR1cm4gdGhpcy5uZXUuZGF0dW0gPyBtb21lbnQodGhpcy5uZXUuZGF0dW0pLmZvcm1hdCgnREQuTU0uWVlZWScpIDogJyc7CiAgICB9LAogICAgbmV1OiB7CiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRhdGEpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9uZXUnLCBkYXRhKTsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMubmV1OwogICAgICB9CiAgICB9LAogICAgZnJhbWU6IGZ1bmN0aW9uIGZyYW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5mcmFtZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfZGlhbG9nX05FVUVSJywgZmFsc2UpOwogICAgICB0aGlzLm9uUmVzZXQoKTsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgYWN0aW9uID0gJyc7CiAgICAgIHZhciB1bml4ID0gbW9tZW50KHRoaXMubmV1LmRhdHVtLCAiWVlZWS9NTS9ERCIpLnVuaXgoKTsKICAgICAgdGhpcy5zcGlubmVyID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5teUZvcm0udmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgICAgIGlmIChfdGhpcy5mcmFtZS50aXRsZSA9PT0gJ05ldWVyIEVpbnRyYWcnKSB7CiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9mdW5rdGlvbicsIGRvY1JlZi5hZGQocGF5bG9hZCkpOwoKICAgICAgICAgICAgYWN0aW9uID0gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdBQ1RJT05fRUlOVFJBRycsIHsKICAgICAgICAgICAgICBkYXR1bTogX3RoaXMuRGF0ZUZvcm1hdHRlZCwKICAgICAgICAgICAgICB1bml4OiB1bml4LAogICAgICAgICAgICAgIFVJRDogJ3U2NldtZFJ1NTdiQWRuNG5UV2c5YnZDUGRjWjInLAogICAgICAgICAgICAgIGRhdGVuOiB7CiAgICAgICAgICAgICAgICBwYXVzZTogX3RoaXMubmV1LnBhdXNlLAogICAgICAgICAgICAgICAga29tbWVudGFyOiBfdGhpcy5uZXUua29tbWVudGFyLAogICAgICAgICAgICAgICAgYmVnaW5uOiBfdGhpcy5uZXUuYmVnaW5uLAogICAgICAgICAgICAgICAgZW5kZTogX3RoaXMubmV1LmVuZGUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5mcmFtZS50aXRsZSA9PT0gJ0VpbnRyYWcgYmVhcmJlaXRlbicpIHsKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX2Z1bmt0aW9uJywgJ2RvY1JlZi5kb2MocGF5bG9hZC5pZCkudXBkYXRlKHBheWxvYWQpJyk7CgogICAgICAgICAgICBhY3Rpb24gPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0FDVElPTl9FSU5UUkFHJywgewogICAgICAgICAgICAgIGlkOiBfdGhpcy5uZXUuaWQsCiAgICAgICAgICAgICAgZGF0dW06IF90aGlzLkRhdGVGb3JtYXR0ZWQsCiAgICAgICAgICAgICAgdW5peDogdW5peCwKICAgICAgICAgICAgICBVSUQ6ICd1NjZXbWRSdTU3YkFkbjRuVFdnOWJ2Q1BkY1oyJywKICAgICAgICAgICAgICBkYXRlbjogewogICAgICAgICAgICAgICAgcGF1c2U6IF90aGlzLm5ldS5wYXVzZSwKICAgICAgICAgICAgICAgIGtvbW1lbnRhcjogX3RoaXMubmV1LmtvbW1lbnRhciwKICAgICAgICAgICAgICAgIGJlZ2lubjogX3RoaXMubmV1LmJlZ2lubiwKICAgICAgICAgICAgICAgIGVuZGU6IF90aGlzLm5ldS5lbmRlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBhY3Rpb24udGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIF90aGlzLnNwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsCiAgICAgICAgICAgICAgdGV4dENvbG9yOiAnd2hpdGUnLAogICAgICAgICAgICAgIGljb246ICdjbG91ZF9kb25lJywKICAgICAgICAgICAgICBtZXNzYWdlOiAnw5xiZXJ0cmFndW5nIGVyZm9sZ3JlaWNoJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgX3RoaXMuc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgICBjb2xvcjogJ3JlZC01JywKICAgICAgICAgICAgICB0ZXh0Q29sb3I6ICd3aGl0ZScsCiAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgIG1lc3NhZ2U6IGVycgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgY29sb3I6ICdyZWQtNScsCiAgICAgICAgICAgIHRleHRDb2xvcjogJ3doaXRlJywKICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICBtZXNzYWdlOiAnQWxsZSBGZWxkZXIgbcO8c3NlbiBhdXNnZWbDvGxsdCBzZWluJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvblJlc2V0OiBmdW5jdGlvbiBvblJlc2V0KCkgewogICAgICB0aGlzLm5ldSA9IHt9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["NeuerEintrag.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,QAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GANA;AAQA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,GAAA,CAAA,KAAA,GAAA,MAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA,GAAA,EAAA;AACA,KAHA;AAIA,IAAA,GAAA,EAAA;AACA,MAAA,GADA,eACA,IADA,EACA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,IAAA;AACA,OAHA;AAIA,MAAA,GAJA,iBAIA;AACA,eAAA,KAAA,MAAA,CAAA,OAAA,CAAA,GAAA;AACA;AANA,KAJA;AAWA,IAAA,KAXA,mBAWA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA;AAbA,GARA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,KAAA;AACA,WAAA,OAAA;AACA,KAJA;AAKA,IAAA,QALA,sBAKA;AAAA;;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,KAAA,GAAA,CAAA,KAAA,EAAA,YAAA,CAAA,CAAA,IAAA,EAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,QAAA,GAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,OAAA,EAAA;AACA,cAAA,KAAA,CAAA,KAAA,CAAA,KAAA,KAAA,eAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,MAAA,CAAA,GAAA,CAAA,OAAA,CAAA;;AACA,YAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA;AAAA,cAAA,KAAA,EAAA,KAAA,CAAA,aAAA;AAAA,cAAA,IAAA,EAAA,IAAA;AAAA,cAAA,GAAA,EAAA,8BAAA;AAAA,cAAA,KAAA,EAAA;AAAA,gBAAA,KAAA,EAAA,KAAA,CAAA,GAAA,CAAA,KAAA;AAAA,gBAAA,SAAA,EAAA,KAAA,CAAA,GAAA,CAAA,SAAA;AAAA,gBAAA,MAAA,EAAA,KAAA,CAAA,GAAA,CAAA,MAAA;AAAA,gBAAA,IAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AAAA;AAAA,aAAA,CAAA;AACA,WAHA,MAIA,IAAA,KAAA,CAAA,KAAA,CAAA,KAAA,KAAA,oBAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,wCAAA;;AACA,YAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA;AAAA,cAAA,EAAA,EAAA,KAAA,CAAA,GAAA,CAAA,EAAA;AAAA,cAAA,KAAA,EAAA,KAAA,CAAA,aAAA;AAAA,cAAA,IAAA,EAAA,IAAA;AAAA,cAAA,GAAA,EAAA,8BAAA;AAAA,cAAA,KAAA,EAAA;AAAA,gBAAA,KAAA,EAAA,KAAA,CAAA,GAAA,CAAA,KAAA;AAAA,gBAAA,SAAA,EAAA,KAAA,CAAA,GAAA,CAAA,SAAA;AAAA,gBAAA,MAAA,EAAA,KAAA,CAAA,GAAA,CAAA,MAAA;AAAA,gBAAA,IAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AAAA;AAAA,aAAA,CAAA;AACA;;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,YAAA,KAAA,CAAA,EAAA,CAAA,MAAA,CAAA;AACA,cAAA,KAAA,EAAA,OADA;AAEA,cAAA,SAAA,EAAA,OAFA;AAGA,cAAA,IAAA,EAAA,YAHA;AAIA,cAAA,OAAA,EAAA;AAJA,aAAA;AAKA,WAPA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,YAAA,KAAA,CAAA,EAAA,CAAA,MAAA,CAAA;AACA,cAAA,KAAA,EAAA,OADA;AAEA,cAAA,SAAA,EAAA,OAFA;AAGA,cAAA,IAAA,EAAA,SAHA;AAIA,cAAA,OAAA,EAAA;AAJA,aAAA;AAKA,WAdA;AAeA,SAxBA,MAyBA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,EAAA,CAAA,MAAA,CAAA;AACA,YAAA,KAAA,EAAA,OADA;AAEA,YAAA,SAAA,EAAA,OAFA;AAGA,YAAA,IAAA,EAAA,SAHA;AAIA,YAAA,OAAA,EAAA;AAJA,WAAA;AAKA;AACA,OAlCA;AAkCA,KA3CA;AA6CA,IAAA,OA7CA,qBA6CA;AACA,WAAA,GAAA,GAAA,EAAA;AACA;AA/CA;AAxBA,CAAA","sourcesContent":["<template>\r\n     <div>\r\n       <q-dialog v-model=\"dialog\" persistent transition-show=\"flip-down\" transition-hide=\"flip-up\">\r\n      <q-card style=\"min-width: 450px\">\r\n        <q-card-section class=\"text-h6\">\r\n          <q-icon size=\"sm\" :name=\"frame.icon\" color=\"warning\"/>\r\n          {{frame.title}}\r\n        </q-card-section>\r\n        <q-card-section>           \r\n        <q-form          \r\n          ref=\"myForm\"\r\n          @submit=\"onSubmit\"\r\n          @reset=\"onReset\" \r\n          greedy                 \r\n          class=\"q-gutter-md\"\r\n    >     \r\n    <q-input filled v-model=\"DateFormatted\" label=\"Datum\" :rules=\"[\r\n          val => val !== null && val !== '' || 'Bitte Datum eintragen']\">\r\n      <template v-slot:append>\r\n        <q-icon name=\"event\" class=\"cursor-pointer\">\r\n          <q-popup-proxy ref=\"qDateProxy\" transition-show=\"scale\" transition-hide=\"scale\">\r\n            <q-date today-btn v-model=\"neu.datum\" @input=\"() => $refs.qDateProxy.hide()\" />\r\n          </q-popup-proxy>\r\n        </q-icon>\r\n      </template>\r\n      <template v-slot:before>\r\n          <q-icon name=\"event\" />\r\n        </template>\r\n    </q-input>\r\n\r\n     <q-input filled v-model=\"neu.beginn\" mask=\"time\" :rules=\"['time']\" label=\"Beginn\" now-btn>\r\n        <template v-slot:append>\r\n          <q-icon name=\"access_time\" class=\"cursor-pointer\">\r\n            <q-popup-proxy transition-show=\"scale\" transition-hide=\"scale\">\r\n              <q-time v-model=\"neu.beginn\" />\r\n            </q-popup-proxy>\r\n          </q-icon>\r\n        </template>\r\n        <template v-slot:before>\r\n          <q-icon name=\"access_time\" />\r\n        </template>\r\n      </q-input>\r\n\r\n      <q-input filled v-model=\"neu.ende\" mask=\"time\" :rules=\"['time']\" label=\"Ende\" now-btn>\r\n        <template v-slot:append>\r\n          <q-icon name=\"access_time\" class=\"cursor-pointer\">\r\n            <q-popup-proxy transition-show=\"scale\" transition-hide=\"scale\">\r\n              <q-time\r\n                v-model=\"neu.ende\"                \r\n              />\r\n            </q-popup-proxy>\r\n          </q-icon>\r\n        </template>\r\n        <template v-slot:before>\r\n          <q-icon name=\"access_time\" />\r\n        </template>\r\n      </q-input>\r\n\r\n      <q-input filled v-model=\"neu.pause\" label=\"Pause\" hint=\"in Minuten\" :rules=\"[\r\n          val => val !== null && val !== '' || 'Bitte Pause eintragen',\r\n          val => val >= 0 && val < 100 || 'Ungültiger Wert'\r\n        ]\">\r\n        <template v-slot:before>\r\n          <q-icon name=\"schedule\" />\r\n        </template>\r\n        </q-input>\r\n\r\n      <q-input\r\n          v-model=\"neu.kommentar\"          \r\n          filled\r\n          autogrow\r\n          label=\"Beschreibung/Kommentar\"\r\n        >\r\n        <template v-slot:before>\r\n          <q-icon name=\"subject\" />\r\n        </template>\r\n      </q-input>\r\n      \r\n      \r\n\r\n      <div>\r\n        <q-btn :label=\"frame.button\" type=\"submit\" color=\"primary\"/>\r\n        <q-btn label=\"Close\"  color=\"primary\" @click=\"close()\" flat class=\"q-ml-sm\" />\r\n      </div>\r\n    </q-form>\r\n       </q-card-section>        \r\n      </q-card>\r\n    </q-dialog>\r\n    <q-dialog v-model=\"spinner\" persistent class=\"fullscreen\">\r\n      <q-card>\r\n        <q-spinner-gears          \r\n          color=\"primary\"\r\n          size=\"20em\"\r\n        />          \r\n      </q-card>\r\n      </q-dialog>    \r\n         \r\n            \r\n   \r\n\r\n  </div>\r\n</template>\r\n<script>\r\nvar moment = require('moment');\r\nexport default {\r\n  props:['dialog'],\r\n  data () {\r\n    return {\r\n      spinner:false,\r\n    }\r\n  },  \r\n\r\n  computed:{\r\n        DateFormatted(){\r\n            return this.neu.datum ? moment(this.neu.datum).format('DD.MM.YYYY') : ''\r\n        },\r\n        neu:{\r\n            set(data){\r\n              this.$store.commit('SET_neu',data)\r\n        },\r\n            get(){\r\n              return this.$store.getters.neu\r\n        }},\r\n        frame(){\r\n          return this.$store.getters.frame\r\n        } \r\n        \r\n    },    \r\n    methods:{\r\n        close(){\r\n             this.$store.commit('SET_dialog_NEUER',false)\r\n             this.onReset()\r\n        },       \r\n        onSubmit () {\r\n          var action = ''\r\n          var unix = moment(this.neu.datum, \"YYYY/MM/DD\").unix()\r\n          this.spinner =true          \r\n          this.$refs.myForm.validate().then(success => {\r\n            if (success) {\r\n              if(this.frame.title === 'Neuer Eintrag'){\r\n                this.$store.commit('SET_funktion',docRef.add(payload))                \r\n                action = this.$store.dispatch('ACTION_EINTRAG',{datum:this.DateFormatted,unix:unix,UID:'u66WmdRu57bAdn4nTWg9bvCPdcZ2',daten:{pause:this.neu.pause,kommentar:this.neu.kommentar,beginn:this.neu.beginn,ende:this.neu.ende}})\r\n              }\r\n              else if(this.frame.title  === 'Eintrag bearbeiten'){\r\n                this.$store.commit('SET_funktion','docRef.doc(payload.id).update(payload)')                \r\n                action = this.$store.dispatch('ACTION_EINTRAG',{id:this.neu.id,datum:this.DateFormatted,unix:unix,UID:'u66WmdRu57bAdn4nTWg9bvCPdcZ2',daten:{pause:this.neu.pause,kommentar:this.neu.kommentar,beginn:this.neu.beginn,ende:this.neu.ende}})\r\n              }                            \r\n            action.then(result=>{\r\n                this.spinner = false\r\n                this.$q.notify({\r\n                color: 'green',\r\n                textColor: 'white',\r\n                icon: 'cloud_done',\r\n                message: 'Übertragung erfolgreich'\r\n              })}).catch(err=>{\r\n                this.spinner = false\r\n                this.$q.notify({\r\n                color: 'red-5',\r\n                textColor: 'white',\r\n                icon: 'warning',\r\n                message: err\r\n              })})\r\n              }\r\n            else {\r\n              this.spinner = false\r\n               this.$q.notify({\r\n                color: 'red-5',\r\n                textColor: 'white',\r\n                icon: 'warning',\r\n                message: 'Alle Felder müssen ausgefüllt sein'\r\n        })}\r\n        })},\r\n\r\n        onReset () {\r\n          this.neu = {}\r\n        }  \r\n          \r\n}}\r\n</script>"],"sourceRoot":"src/components"}]}